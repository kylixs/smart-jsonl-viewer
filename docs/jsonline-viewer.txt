

设计一个jsonline viewer，要求如下，如果有不清楚的请提问，先设计方案方向让我选择，然后再生成方案文档：
1、支持展开/折叠json line、json层次结构
2、支持解码显示复杂字符串，包括换行、双引号转义等，目的是给用户一个良好的体验，提升效率，直接按习惯预览实际内容，而不需要复制到外面解码查看。
3、支持查找过滤，且转码后渲染的文字内容可以支持查找过滤。过滤后只显示包含关键字的line或者叶子节点（可以选择模式）
4、建议做成chrome浏览器扩展插件


数据样本：
/Users/gongdewei/.claude/projects/-Users-gongdewei-work-projects-ai-code-ai-code-specs/09b5ccba-a3be-4ad6-9627-6a444f1cfae3.jsonl

----
⏺ 我理解了你的需求。在设计具体方案前，让我先确认几个关键问题，然后给你提供几个技术方向供选择。

⏺ User answered Claude's questions:
  ⎿  · Chrome 扩展主要用于查看什么来源的 JSONL 数据？ → 两者都支持
     · 技术栈偏好？考虑开发效率、性能和维护性 → Vue 3 + TypeScript
     · 字符串解码需要支持多深的嵌套？ → 智能递归解码（推荐）
     · 是否需要支持大文件查看（如几百 MB 的 JSONL）？ → 否，小文件即可

----

> 优化：1. 打开扩展插件时新建标签页显示，占满整个浏览器  2. 支持批量展开/折叠节点，可以设置展开深度

3. 支持复制转码后的内容文本

优化：1. 加大解码显示区域的宽度，差不多占满页面宽度  2.支持不同的过滤模式：模糊匹配（忽略大小写匹配任意属性或者值）、完全匹配（忽略大小写完全匹配单词）、jsonpath匹配

> 1.默认全部展开所有节点，展开/折叠按钮放到搜索框下的工具栏。2.file:///Users/gongdewei/.claude/projects/-Users-gongdewei-work-projects-ai-code-ai-code-specs/2ba79d1c-923b-40d5-863c-21197bbe87b7.jsonl
这个文件的内容解码后没有正确渲染,其中的关键字“根据你的项目配置，当你生成设计方案（md文件）后，可以通过以下方式触发方案审查”

复制按钮改为透明背景，样式和"Raw"按钮一样就行。

> 只需要保留一个“展开深度:”按钮（放到过滤范围同一行的最右侧），默认选择“全部展开”，选项顺序调整：全部展开、全部折叠、折叠1~5层。 删除“全部展开/折叠”按钮



新增需求：
1. 检测到内容为xml/json格式时，也格式化渲染显示

过滤节点模式时，修改展开深度无效
jsonpath 匹配模式时，改为显示匹配的节点及其下级

> 解码后的渲染方块增加1像素空隙，避免上下两个方块连在一起

> 解码渲染方块的切换到Raw按钮不要使用白色字体，应该跟着主题模式进行切换，或者改为图标
----

1.修复点击复制按钮无效问题
2.解码内容弹框时，按ESC键关闭
3.去掉term颜色控制字符或者按其要求渲染为彩色，如”Agent changes: Created agent: [1mcode-guardian[22m“


1、解码内容弹框显示时，检测到如果是Markdown格式，则增加一个Markdown Preview切换模式，可以放到tab切换， 只有一种方式显示时，不显示tab栏



> 检测到弹框内容为某种脚本语言时，语法着色显示，而不是Markdown预览，如非空首行为: #!/bin/bash。 检查到为代码时，默认自动选择合适的语言，允许用户修改编程语言。


Markdown预览关闭目录菜单时，缩小到左侧边靠顶部悬浮停靠图标，避免折叠文字。图标距离窗口最上方预留一定空间，大概和[目录]位置对齐。


  > 搜索历史记录合并到一起，展示时在历史记录前面增加一个匹配方式的标签，历史记录记录当时的匹配方式、过滤范围、关键字


> 修改界面风格，不要使用淡紫色，AI味太浓了。可以给几个方案我选择。

不要去掉顶部栏的[主页]按钮
主题切换下拉框改成风格统一的图标按钮，点击后弹出下拉菜单进行切换。
  > 保留【导出】按钮及功能，【主题】按钮图标更换一个更美观现代的图标


首页能否直接在虚线框内粘贴内容？ 不需要点击粘贴内容，然后在弹框里面输入。同时保持拖曳文件和选择文件按钮功能，适当调整更美观合理的UI界面布局。



